---
import "../styles/global.css";

import Navbar from "@components/navbar.astro";
import Footer from "@components/footer.astro";

const COMMISSION_URL = "https://forms.gle/qJoRmBMT5kUgffUBA";
const DSA_COLLECTION = [
	{
		name: "Heavy-Light Decomposition",
		description: "Update and query tree paths efficiently by decomposing the tree into heavy and light edges.",
		link: "https://github.com/celonymire/competitive-programming/blob/master/include/celony/range_query/heavy_light_decomposition.hpp",
	},
	{
		name: "Lowest Common Ancestor",
		description: "Special implementation of LCA with O(N) preprocessing and O(1) query time.",
		link: "https://github.com/celonymire/competitive-programming/blob/master/include/celony/graph/lowest_common_ancestor.hpp",
	},
	{
		name: "Lazy Segment Tree",
		description: "Efficient range update and queries, along with binary searching using iterative tree traversal.",
		link: "https://github.com/celonymire/competitive-programming/blob/master/include/celony/range_query/segment_tree_lazy.hpp",
	},
	{
		name: "Aho-Corasick",
		description: "Match multiple patterns in a text simultaneously with a trie automaton.",
		link: "https://github.com/celonymire/competitive-programming/blob/master/include/celony/string/aho_corasick.hpp",
	},
	{
		name: "Rolling Hash",
		description: "Quickly compute polynomial hashes of substrings.",
		link: "https://github.com/celonymire/competitive-programming/blob/master/include/celony/string/rolling_hash.hpp",
	},
	{
		name: "Mo's Algorithm on Trees",
		description: "Offline computation of path queries with Mo's algorithm adapted for trees.",
		link: "https://github.com/celonymire/competitive-programming/blob/master/include/celony/graph/mo_tree.hpp",
	},
];
---

<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1" />
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:wght@400;600;700&display=swap"
			rel="stylesheet"
		/>
		<title>Sam Huang</title>
	</head>
	<body>
		<Navbar />
		<main id="main-content">
			<section id="short-intro" aria-labelledby="welcome-heading">
				<h1 id="welcome-heading" class="mb-10 text-center text-5xl font-extrabold">Welcome!</h1>
				<p class="text-center text-xl/8 font-light tracking-wide">
					I am <span>Sam Huang</span>, and it is my pleasure to have you here! I love to explore new areas of
					technology, with AI currently being the main focus towards a brighter future. I also love creating desktop
					applications, interactive websites, and solving any problems that come my way.
				</p>
			</section>
			<section
				id="avatar-cam"
				aria-labelledby="avatar-cam-heading"
				class="relative flex items-center gap-48 overflow-hidden border-10 border-yellow-500 bg-black px-40 py-10"
			>
				<img
					class="h-auto w-[600px] rounded-lg"
					src="/images/home/avatar-cams/Demo.gif"
					alt="Animated demo of Avatar Cam interface"
				/>
				<div class="w-full self-center text-white">
					<h1 id="avatar-cam-heading" class="mb-10 text-5xl font-extrabold">CREATE YOUR PERSONA</h1>
					<p class="mb-10 text-xl/8 font-light tracking-wide">
						Bring your content and online presence with personalized Avatar Cam to a new level. Avatar Cam utilizes 2D
						art, bringing unique visual customization and interactivity to the table. Features to enhance interactivity
						include animations, controller input, and <span class="new-emphasis">NEW</span>
						Twitch Integration!
						<a href={COMMISSION_URL} class="font-extrabold underline">Request a commission</a>
						today!
					</p>
					<p class="text-xl tracking-wide">
						Learn more about its features and showcases <a href="/avatar-cam" class="underline">here</a>!
					</p>
				</div>
			</section>
			<section
				id="dsa-collection"
				aria-labelledby="dsa-heading"
				class="relative gap-48 overflow-hidden bg-gray-800 px-40 py-10"
			>
				<h1 id="dsa-heading" class="mb-10 text-center text-5xl font-extrabold text-white">Personal DSA Collection</h1>
				<ul class="mb-10 flex flex-wrap justify-center gap-12 text-white">
					{
						DSA_COLLECTION.map((item) => (
							<li class="dsa-item max-w-[350px] min-w-[200px] rounded-lg p-3 transition-colors duration-250 ease-in-out">
								<a class="text-xl font-extrabold" href={item.link} aria-label={item.name + " (DSA resource)"}>
									{item.name}
								</a>
								<p class="mt-2 text-sm leading-snug">{item.description}</p>
							</li>
						))
					}
					<li class="inline-flex self-center bg-white px-2.5 py-1.5 text-2xl font-extrabold text-black">
						<img
							class="mr-2.5 h-8 w-8"
							src="https://img.icons8.com/?size=100&id=12599&format=png&color=000000"
							alt="GitHub logo"
						/>
						<a
							class="text-2xl font-extrabold"
							href="https://github.com/celonymire/competitive-programming"
							aria-label="More DSA resources on GitHub">AND MORE!</a
						>
					</li>
				</ul>
				<div class="flex justify-evenly">
					<div class="flex self-center">
						<img
							class="mr-2.5 h-12 w-12"
							src="https://img.icons8.com/?size=100&id=iOFVfD3gi7w6&format=png&color=000000"
							alt="Axe icon representing tested code"
						/>
						<h1 class="self-center text-[2rem] font-extrabold text-white">Tested</h1>
					</div>
					<div class="flex self-center">
						<img
							class="mr-2.5 h-12 w-12"
							src="https://img.icons8.com/?size=100&id=QDgnZW9BLy1H&format=png&color=000000"
							alt="Scroll icon representing documentation"
						/>
						<h1 class="self-center text-[2rem] font-extrabold text-white">Documented</h1>
					</div>
					<div class="flex self-center">
						<img
							class="mr-2.5 h-12 w-12"
							src="https://img.icons8.com/?size=100&id=YVToA9CPXtKW&format=png&color=000000"
							alt="Module icon representing modularized code"
						/>
						<h1 class="self-center text-[2rem] font-extrabold text-white">Modularized</h1>
					</div>
					<div class="flex self-center">
						<img
							class="mr-2.5 h-12 w-12"
							src="https://img.icons8.com/?size=100&id=iRpUJX5thBgS&format=png&color=000000"
							alt="Utility icon representing comprehensive code"
						/>
						<h1 class="self-center text-[2rem] font-extrabold text-white">Comprehensive</h1>
					</div>
				</div>
			</section>
			<section
				id="vscode-fastolympiccoding"
				aria-labelledby="vscode-fastolympiccoding-heading"
				class="relative flex items-center gap-48 overflow-hidden bg-blue-950 px-40 py-10"
			>
				<img
					class="h-auto w-[600px] rounded-lg border-4 border-white shadow-[0_0_10px_rgba(0,0,0,0.5)]"
					src="/images/home/demo.gif"
					alt="Animated demo of Fast Olympic Coding extension in VSCode"
				/>
				<div class="w-full self-center text-white">
					<a
						id="vscode-fastolympiccoding-heading"
						class="mb-10 block text-4xl font-extrabold"
						href="https://github.com/celonymire/vscode-fastolympiccoding"
						aria-label="VSCode Fast Olympic Coding extension on GitHub">VSCode + Fast Olympic Coding</a
					>
					<p class="text-xl font-light tracking-wide">
						A VSCode extension to complement your setup. Straight forward to configure for any language, whether
						compiled or interpreted. Packed with utilities including inserting library code without leaving the file,
						support for Competitive Companion to quickly insert sample tests, and built-in stress tester for sanity
						checks. Great extension to check out for VSCode users.
					</p>
				</div>
			</section>
		</main>
		<Footer />
	</body>
</html>

<script>
	const BORDER_WIDTH = 10;
	const SPARKLE_SIDE_LENGTH = 60;
	const FADE_SECONDS = 0.5;

	const avatarCamDiv = document.getElementById("avatar-cam")!;
	const createSparkle = () => {
		const sparkle = document.createElement("img");
		sparkle.src = "https://img.icons8.com/?size=100&id=qdQpy48X3Rjv&format=png&color=000000";
		sparkle.classList.add("shiny-star");
		sparkle.style.position = "absolute";
		sparkle.style.width = `${SPARKLE_SIDE_LENGTH}px`;
		sparkle.style.height = `${SPARKLE_SIDE_LENGTH}px`;
		sparkle.style.pointerEvents = "none";
		sparkle.style.zIndex = "2";
		sparkle.style.animation = `fade-in ${FADE_SECONDS}s forwards, fade-out ${FADE_SECONDS}s ${FADE_SECONDS}s forwards`;

		return sparkle;
	};
	const addSparkle = () => {
		const sparkle = createSparkle();
		const width = avatarCamDiv.clientWidth;
		const height = avatarCamDiv.clientHeight;

		const side = Math.floor(Math.random() * 4);
		let x, y;
		switch (side) {
			case 0: // top
				x = BORDER_WIDTH + Math.random() * width - SPARKLE_SIDE_LENGTH / 2;
				y = -BORDER_WIDTH - SPARKLE_SIDE_LENGTH / 2;
				break;
			case 1: // right
				x = BORDER_WIDTH + width - BORDER_WIDTH / 2 - SPARKLE_SIDE_LENGTH / 2;
				y = BORDER_WIDTH + Math.random() * height - SPARKLE_SIDE_LENGTH / 2;
				break;
			case 2: // bottom
				x = BORDER_WIDTH + Math.random() * width - SPARKLE_SIDE_LENGTH / 2;
				y = BORDER_WIDTH + height - SPARKLE_SIDE_LENGTH / 2;
				break;
			case 3: // left
				x = -BORDER_WIDTH - SPARKLE_SIDE_LENGTH / 2;
				y = BORDER_WIDTH + Math.random() * height - SPARKLE_SIDE_LENGTH / 2;
				break;
		}

		sparkle.style.left = `${x}px`;
		sparkle.style.top = `${y}px`;

		avatarCamDiv.appendChild(sparkle);
		setTimeout(() => {
			avatarCamDiv.removeChild(sparkle);
		}, 1000);
	};

	const sparkleWorker = new Worker("/scripts/interval-notifier-worker.js");
	sparkleWorker.onmessage = (e) => {
		if (e.data.type === "interval") {
			addSparkle();
		}
	};
	setTimeout(() => {
		sparkleWorker.postMessage({ type: "start", data: { interval: 250 } });
	}, 500);
</script>

<style>
	/* Page-scoped CSS (moved here to keep a single style block in the page) */
	/* Scope variables and base font settings to the main content container */
	#main-content {
		--font-sans:
			"Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
		--font-heading: "Poppins", var(--font-sans);
		--max-read-width: 60ch;
		font-family: var(--font-sans);
		font-weight: 400;
		font-size: 16px;
		line-height: 1.5;
		color: #e5e7eb;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
	}

	/* Headings in this page use the heading font */
	#main-content h1,
	#main-content h2,
	#main-content h3,
	#main-content h4,
	#main-content h5,
	#main-content h6,
	#main-content .font-extrabold {
		font-family: var(--font-heading);
		font-weight: 700;
		letter-spacing: -0.01em;
	}

	/* Short paragraph / blurb --- only apply to short blurbs and DSA list descriptions */
	#main-content .short-desc,
	#main-content .dsa-item p {
		font-family: var(--font-sans);
		font-weight: 500;
		font-size: 0.95rem;
		line-height: 1.45;
		max-width: var(--max-read-width);
		color: inherit;
	}

	/* Utility to force heading font only within this page */
	#main-content .font-heading {
		font-family: var(--font-heading) !important;
	}

	.new-emphasis {
		/* Gradient text with a matching border and small padding. */
		background: linear-gradient(230deg, #f6e05e 0%, #ef4444 100%);
		-webkit-background-clip: text;
		background-clip: text;
		color: transparent;
		-webkit-text-fill-color: transparent;
		border: 2px solid;
		border-image: linear-gradient(230deg, #f6e05e, #ef4444) 1;
		display: inline-block;
		line-height: 1;
		padding-left: 0.375rem; /* px-1.5 */
		padding-right: 0.375rem;
		padding-top: 3px; /* py-[3px] */
		padding-bottom: 3px;
		font-weight: 800; /* font-extrabold */
	}

	#dsa-collection::before {
		content: "";
		position: absolute;
		inset: 0;
		background-image:
			repeating-linear-gradient(45deg, #1f2937 0px, #1f2937 20px, #374151 20px, #374151 40px),
			repeating-linear-gradient(-45deg, #1f2937 0px, #1f2937 20px, #374151 20px, #374151 40px);
		background-blend-mode: multiply;
		opacity: 0.6;
		pointer-events: none;
		z-index: 0;
	}

	#dsa-collection > * {
		position: relative;
		z-index: 1;
	}

	#vscode-fastolympiccoding::before {
		content: "";
		position: absolute;
		inset: 0;
		background-image:
			repeating-linear-gradient(45deg, #1f2937 0px, #1f2937 20px, #374151 20px, #374151 40px),
			repeating-linear-gradient(-45deg, #1f2937 0px, #1f2937 20px, #374151 20px, #374151 40px);
		background-blend-mode: multiply;
		opacity: 0.6;
		pointer-events: none;
		z-index: 0;
	}

	#vscode-fastolympiccoding > * {
		position: relative;
		z-index: 1;
	}

	/* DSA item hover and transitions â€” scoped and specific so it overrides page-level rules */
	#main-content .dsa-item:hover {
		background-color: white;
	}

	#main-content .dsa-item a,
	#main-content .dsa-item p {
		transition: color 0.25s ease;
	}

	#main-content .dsa-item:hover a,
	#main-content .dsa-item:hover p {
		color: black;
	}

	@keyframes move-gradient {
		0% {
			background-position: 0 50%;
		}
		100% {
			background-position: var(--period) 50%;
		}
	}

	@keyframes fade-in {
		0% {
			opacity: 0;
		}
		100% {
			opacity: 1;
		}
	}

	@keyframes fade-out {
		0% {
			opacity: 1;
		}
		100% {
			opacity: 0;
		}
	}

	#short-intro {
		position: relative;
		overflow: hidden;
		color: white;
		padding: 3rem 2rem;
	}

	#short-intro > * {
		position: relative;
		z-index: 1;
	}

	#short-intro h1,
	#short-intro p {
		text-shadow: 0 6px 18px rgba(0, 0, 0, 0.55);
	}

	#short-intro::before {
		content: "";
		position: absolute;
		inset: -10% -10%;
		z-index: 0;
		background: linear-gradient(135deg, #000000 0%, #1a1a2e 25%, #0f3460 50%, #16213e 75%, #000000 100%);
		background-size: 200% 200%;
		filter: saturate(1.05) contrast(1.02);
		pointer-events: none;
		transform: translateZ(0);
		animation: gradientShift 10s linear infinite;
		opacity: 1;
	}

	#short-intro::after {
		content: "";
		position: absolute;
		inset: -20% -20%;
		z-index: 0;
		pointer-events: none;
		background-image:
			radial-gradient(closest-side at 10% 20%, rgba(6, 182, 212, 0.15) 0%, transparent 40%),
			radial-gradient(closest-side at 80% 70%, rgba(168, 85, 247, 0.12) 0%, transparent 35%);
		filter: blur(40px) contrast(1.05);
		mix-blend-mode: screen;
		animation: blobMove 18s linear infinite;
	}

	@keyframes gradientShift {
		0% {
			background-position: 0% 50%;
		}
		50% {
			background-position: 100% 50%;
		}
		100% {
			background-position: 0% 50%;
		}
	}

	@keyframes blobMove {
		0% {
			transform: translate(0px, 0px) scale(1);
		}
		50% {
			transform: translate(20px, -20px) scale(1.08);
		}
		100% {
			transform: translate(0px, 0px) scale(1);
		}
	}

	/* Respect reduced-motion for accessibility */
	@media (prefers-reduced-motion: reduce) {
		#short-intro::before,
		#short-intro::after {
			animation: none;
		}
	}
</style>
